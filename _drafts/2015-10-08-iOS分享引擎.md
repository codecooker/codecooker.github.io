---
layout: post
title: iOS分享引擎
category: iOS
tags: [iOS]
---

随着移动端社交因素的不断深入，通过分享来传播和为应用引流已经成为了一个惯用的做法。虽然现在各个平台已经对分享的操作做了高度的封装，但是如何如何快速方便的引入分享模块也是开发者需要考虑的问题之一。

###怎么样的分享比较理想？
这个问题，即使千人千面，但是参与过项目的朋友们也应该有一个初步的共识，无外乎下述几个问题:  
* 方便快捷，能方便的快捷的接入分享模块  
* UI可定制，分享模块的视觉部分可根据自身应用的特色进行定制  
* 调用清晰，方便的获取分享状态  
* 可定制分享到的平台  
* 易扩展，可容易的扩展上不支持的分享平台，而不涉及核心功能   
基本上满足上述要求的分享模块，即便算不上一个好的分享模块，也算是一个不错的^_^  

###如果实现
我们将分享模块整理为一个插件的形式，每一个分享平台都是一个插件，各个插件和一个核心模块进行交互，我么只需要对我们需要的分享平台进行注册，就拥有了该平台的分享功能，反之则不会引入该平台对应的分享功能  
首先我们人为的将分享模块划分为以下几个部分:  
1. 核心模块，包含分享引擎和插件基类  
2. 业务层，包含各个平台实际的分享逻辑  
3. view层，包含一套默认的分享UI   

这样做了以后，如果我们需要添加新的分享平台，只需要在业务成针对具体的平台来实现通用的分享逻辑。如果我们需要对分享界面有所定制也可以对view层的界面进行修改。定制完成后，我们只需要和核心层的engine进行交互，即可完成分享操作.`每个模块相对独立，但核心模块为业务模块的基础`  

###怎么设计?
各个模块的关系可参照下图:  
![整体框架]({{ site.res }}/images/{{page.title}}/1.png)

###如何使用


